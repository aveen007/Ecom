@model Ecom.Models.CategoryViewModel

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Category</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Description)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Description)
        </dd>
    </dl>
</div>

<div class="form-group">
    <button type="button" id="showSpec" class="btn btn-sm btn-light ml-2">show specification<i class="fa fa-plus"></i></button>
</div>
<input hidden name="StringifiedJSArray">
<div id="spec">

    <p id="msg"></p>
    <script>

        // get reference to button
        var showbtn = document.getElementById("showSpec");
        // add event listener for the button, for action "click"
        var spec_index = 0;
        showbtn.addEventListener("click", addChild);
        function addChild() {
            var spec = "<table id='spec" + spec_index + "' class= 'table table-light table - borderless table - hover text - center mb - 0' >" +
                "<tbody class='align-middle' >" +
                "<tr>" +
                "<td>" +              
                "<td class= 'align-middle' > specification </td>" +
                "<td class= 'align-middle' >" +
                "<button type='button' id='rem" + spec_index + "'  class= 'btn btn-sm btn-danger rem' >" +
                "<i class='fa fa-times' > </i>" +
                "</button >" +
                "</td></tr> </tbody > </table>"
            $("#spec").append(spec);
            let div = document.getElementById("spec")
            let rembtn = document.querySelector("#rem" + spec_index).addEventListener("click",
                function () {
                    // let confirm=confirm("are you sure?");
                    let rem_parent = this.parentNode.parentNode.parentNode.parentNode;
                    // console.log(rem_parent);

                    div.removeChild(rem_parent);



                });

            spec_index += 1;

        }
    </script>

</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
