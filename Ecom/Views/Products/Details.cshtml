@model Ecom.Models.ProductViewModel

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Details</h1>

<div>
    <h4>Product</h4>

    <div class="row px-xl-5">
        <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
            <div class="product-item bg-light mb-4">
                <div class="product-img position-relative overflow-hidden">
                    <img class="img-fluid w-100" src="@( Model.ImageLink )" alt="">
                    <div class="product-action">
                        <a class="btn btn-outline-dark btn-square" href=""><i class="fa fa-shopping-cart"></i></a>
                        <a class="btn btn-outline-dark btn-square" href=""><i class="far fa-heart"></i></a>
                        <a class="btn btn-outline-dark btn-square" href=""><i class="fa fa-sync-alt"></i></a>
                        <a class="btn btn-outline-dark btn-square" href=""><i class="fa fa-search"></i></a>
                    </div>
                </div>
                <div class="text-center py-4">
                    <a class="h6 text-decoration-none text-truncate" href="">@Html.DisplayFor(modelItem => Model.Name)</a>
                    <div class="d-flex align-items-center justify-content-center mt-2">
                        <h5>$@Html.DisplayFor(modelItem => Model.Price)</h5><h6 class="text-muted ml-2"><del>$@Html.DisplayFor(modelItem => Model.Price)</del></h6>
                    </div>
                    <div class="d-flex align-items-center justify-content-center mb-1">
                        <small class="fa fa-star text-primary mr-1"></small>
                        <small class="fa fa-star text-primary mr-1"></small>
                        <small class="fa fa-star text-primary mr-1"></small>
                        <small class="fa fa-star text-primary mr-1"></small>
                        <small class="fa fa-star text-primary mr-1"></small>
                        <small>(99)</small>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Description)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Description)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Price)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Price)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Sku)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Sku)
        </dd>
@*        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ImageLink)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.ImageLink)
        </dd>*@
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Category)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Category.Name)
        </dd>
    </dl>
</div>

<div class="form-group">
    <button type="button" id="showSpec" class="btn btn-sm btn-light ml-2">show specification<i class="fa fa-plus"></i></button>
</div>
<input hidden name="StringifiedJSArray">
<div id="spec">

    <p id="msg"></p>
    <script>

        // get reference to button
        var showbtn = document.getElementById("showSpec");
        // add event listener for the button, for action "click"
        var spec_index = 0;
        showbtn.addEventListener("click", addChild);
        function addChild() {
            var spec = "<table id='spec" + spec_index + "' class= 'table table-light table - borderless table - hover text - center mb - 0' >" +
                "<tbody class='align-middle' >" +
                "<tr>" +
                "<td>" +
                "<td class= 'align-middle' > specification </td>" +
                "<td class= 'align-middle' >" +
                "<button type='button' id='rem" + spec_index + "'  class= 'btn btn-sm btn-danger rem' >" +
                "<i class='fa fa-times' > </i>" +
                "</button >" +
                "</td></tr> </tbody > </table>"
            $("#spec").append(spec);
            let div = document.getElementById("spec")
            let rembtn = document.querySelector("#rem" + spec_index).addEventListener("click",
                function () {
                    // let confirm=confirm("are you sure?");
                    let rem_parent = this.parentNode.parentNode.parentNode.parentNode;
                    // console.log(rem_parent);

                    div.removeChild(rem_parent);



                });

            spec_index += 1;

        }
    </script>

</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
